\section{Revisions}

\subsection{ERD}
\includegraphics[width=\textwidth]{ER2.pdf}

\subsection{Relations}
\begin{itemize}
\item User: \{[\underline{Email: string}, Username: string, Password: string]\}

\item Movie: \{[\underline{Id: integer}, DateOfRelease: datetime, Title: string, Language: string]\}

\item RefersTo: \{[ \underline{From $\rightarrow$ Movie, To $\rightarrow$ Movie}]\}

\item Rates: \{[\underline{MovieId $\rightarrow$ Movie, Email $ \rightarrow $ User}, Value: integer]\}

\item Genre: \{[\underline{Name: string}]\}

\item Is: \{[\underline{Name $\rightarrow$ Genre, MovieId $\rightarrow$ Movie}]\}

\item Role: \{[\underline{Id: integer, MovieId $\rightarrow$ Movie, PersonId $ \rightarrow $ Person}]\}

\item Director: \{[\underline{Id} $ \rightarrow $ Role]\}

\item Writer: \{[\underline{Id}$ \rightarrow $ Role]\}

\item Actor: \{[\underline{Id}$ \rightarrow $ Role, PartName: string]\}

\item Person: \{[\underline{Id: integer}, FirstName: string, LastName: string, DateOfBirth: datetime, Gender: boolean]\}

\item Organization: \{[\underline{Name: string}]\}

\item Award: \{[\underline{Title: string}]\}

\item Nominated: \{[\underline{Type $ \rightarrow $ Award, Name $ \rightarrow $ Organization, MovieId $\rightarrow$ Movie,}\\
\underline{PersonId $ \rightarrow $ Person}, Year: int, Won: boolean,]\}
\end{itemize}

\section{Functional dependencies}
{
\newcommand{\derives}[3]{\item{\{#1\} $\rightarrow$ \{#2\}} 
\ifthenelse{\equal{#3}{true}}
   	{candidate key}
   	{}
}
\newenvironment{dependencies}[1]
	{\subsection*{#1}\begin{itemize}}
	{\end{itemize}}
\begin{dependencies}{User}
\derives{Email}{Email, Username, Password}{true}
\derives{Username}{Email, Username, Password}{true}
\end{dependencies}

\begin{dependencies}{Movie}
\derives{Id}{Id, DateOfReleasem, Title, Language}{true}
\end{dependencies}

\begin{dependencies}{RefersTo}
\derives{From, To}{From, To}{true}
\end{dependencies}

\begin{dependencies}{Rates}
\derives{MovieId, Email}{MovieId, Email, Value}{true}
\end{dependencies}

\begin{dependencies}{Genre}
\derives{Name}{Name}{true}
\end{dependencies}

\begin{dependencies}{Is}
\derives{Name, Movie}{Name, Movie}{true}
\end{dependencies}

\begin{dependencies}{Role}
\derives{Id, MovieId, PersonId}{Id, MovieId, PersonId}{true}
\end{dependencies}

\begin{dependencies}{Director}
\derives{Id}{Id}{true}
\end{dependencies}

\begin{dependencies}{Writer}
\derives{Id}{Id}{true}
\end{dependencies}

\begin{dependencies}{Actor}
\derives{Id}{Id, PartName}{true}
\end{dependencies}

\begin{dependencies}{Person}
\derives{Id}{Id, FirstName, LastName, DateOfBirth, Gender}{true}
\end{dependencies}

\begin{dependencies}{Organization}
\derives{Name}{Name}{true}
\end{dependencies}

\begin{dependencies}{Award}
\derives{Title}{Title}{true}
\end{dependencies}

\begin{dependencies}{Nominated}
\derives{Type, Name, MovieId, PersonId}{Type, Name, MovieId, PersonId, Year, Won}{true}
\end{dependencies}
}
\section{3NF}

\section{Highest normal form}

\section{SQL}